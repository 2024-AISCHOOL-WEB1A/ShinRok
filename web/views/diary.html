<!DOCTYPE html>
<html lang='en'>

<head>
    <title>üìïÎã§Ïù¥Ïñ¥Î¶¨üìï</title>
    <meta charset='utf-8' />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="../public/diary.css">
    <link rel="stylesheet" href="../public/main.css">
</head>

<body>
    <form action="/diary/submit" method="post" enctype="multipart/form-data" class="diaryForm" id="diaryForm">
        <header>
            <a href="/" id="logo"><img
                    src="https://jsh-1.s3.ap-northeast-2.amazonaws.com/test/KakaoTalk_20240722_111546767_01.png"
                    alt=""></a>
            <input name="query" id="diaryName" type="text" placeholder="Îã§Ïù¥Ïñ¥Î¶¨ Ïù¥Î¶ÑÏùÑ ÏÑ§Ï†ïÌïòÏÑ∏Ïöî.">
        </header>
        <div id="container">
            {% if user %}
            <input type="hidden" name="idx" value="{{ user.idx }}">
            {% endif %}
            <div id="side">
                <!-- ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î -->
                <aside class="leftSidebar">
                    <nav class="topsidebar">
                        <ul>
                            <li><a href="/">HOME</a></li>
                            <li><a href="/freeList">ÏûêÏú†Í≤åÏãúÌåê</a></li>
                            <li><a href="#">ÏûêÎûëÌïòÍ∏∞</a></li>
                            <li><a href="#">Ïù∏Í∏∞Í∏Ä</a></li>
                            <li><a href="/board/queslist">ÏßàÎ¨∏Í≤åÏãúÌåê</a></li>
                        </ul>
                    </nav>
                    <!-- ÏïÑÎûòÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î(ÌéòÏù¥ÏßÄ Ïù¥Îèô) -->
                    <nav class="underSidebar">
                        <ul>
                            <li id="pointLi"><a href="/diary">Diary</a></li>
                            <li><a href="/predict">Î≥ëÏ∂©Ìï¥ ÏßÑÎã®</a></li>
                            <li><a href="/dictionary/home">ÏãùÎ¨º ÎèÑÍ∞ê</a></li>
                            <li><a href="/myPage">ÎßàÏù¥ÌéòÏù¥ÏßÄ</a></li>
                        </ul>
                    </nav>
                </aside>

                <section class="calendarForm">
                    <div id='calendar'></div>

                    <!-- Îπà ÎÇ†Ïßú Î™®Îã¨ -->
                    <div id="myModal" class="modal">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p id="modal-text"></p>
                            <input type="hidden" name="modalText" id="modalText">
                            <p><input type="text" placeholder="Ï†úÎ™©" name="title" id="title" size="100%"></p>
                            <textarea name="content" id="content" placeholder="ÎÇ¥Ïö©"></textarea>
                            <div id="modal_bottom">
                                <div id="stk">
                                    <div class="weather">ÎÇ†Ïî®<br>
                                        <div class="radio-container">
                                            <input type="radio" id="sun" name="weather" value="sun"
                                                class="radio-button">
                                            <label for="sun"><img src="https://url.kr/ovusa3" alt="Ìï¥"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="rain" name="weather" value="rain"
                                                class="radio-button">
                                            <label for="rain"><img src="https://url.kr/qjvl4s" alt="ÎπÑ"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="thunder" name="weather" value="thunder"
                                                class="radio-button">
                                            <label for="thunder"><img src="https://url.kr/qelhx4" alt="Î≤àÍ∞ú"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="cloud" name="weather" value="cloud"
                                                class="radio-button">
                                            <label for="cloud"><img src="https://url.kr/5wsmzp" alt="Íµ¨Î¶Ñ"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="snow" name="weather" value="snow"
                                                class="radio-button">
                                            <label for="snow"><img src="https://url.kr/jjyn7y" alt="Îàà"
                                                    class="sticker"></label>
                                        </div>
                                    </div>
                                    <div id="do" class="custom-radio">ÌñâÎèô <br>
                                        <div class="radio-container">
                                            <input type="radio" id="water" name="do" value="water" class="radio-button">
                                            <label for="water"><img src="https://url.kr/x5zahb" alt="Î¨ºÏ£ºÍ∏∞"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="seed" name="do" value="seed" class="radio-button">
                                            <label for="seed"><img src="https://url.kr/ndtb2h" alt="Ïã¨Í∏∞"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="cut" name="do" value="cut" class="radio-button">
                                            <label for="cut"><img src="https://url.kr/p7w879" alt="Í∞ÄÏßÄÏπòÍ∏∞"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="repot" name="do" value="repot" class="radio-button">
                                            <label for="repot"><img src="https://url.kr/iywgjg" alt="Î∂ÑÍ∞àÏù¥"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="debug" name="do" value="debug" class="radio-button">
                                            <label for="debug"><img src="https://url.kr/5wi911" alt="Ìï¥Ï∂©Í¥ÄÎ¶¨"
                                                    class="sticker"></label>
                                        </div>
                                    </div>
                                    <div id="change" class="custom-radio">ÏãùÎ¨ºÎ≥ÄÌôî<br>
                                        <div class="radio-container">
                                            <input type="radio" id="balah" name="change" value="balah"
                                                class="radio-button">
                                            <label for="balah"><img src="https://url.kr/pvzbge" alt="Î∞úÏïÑ"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="ssak" name="change" value="ssak"
                                                class="radio-button">
                                            <label for="ssak"><img src="https://url.kr/h74t55" alt="Ïãπ"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="ddukip" name="change" value="ddukip"
                                                class="radio-button">
                                            <label for="ddukip"><img src="https://url.kr/mrtje5" alt="Îñ°Ïûé"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="leaf" name="change" value="leaf"
                                                class="radio-button">
                                            <label for="leaf"><img src="https://url.kr/itnj8f" alt="ÌíÄ"
                                                    class="sticker"></label>
                                        </div>
                                        <div class="radio-container">
                                            <input type="radio" id="flower" name="change" value="flower"
                                                class="radio-button">
                                            <label for="flower"><img src="https://url.kr/6m93r9" alt="ÍΩÉ"
                                                    class="sticker"></label>
                                        </div>
                                    </div>
                                </div>
                                <div id="upload">
                                    <input type="file" name="image" accept="image/*" onchange="loadFile(this)">
                                    <div class="addImage" id="image-show"></div>
                                </div>
                                <div id="commitButton">
                                    <input type="reset" value="Ï∑®ÏÜå" id="cancel">
                                    <input type="submit" value="Îì±Î°ù" id="reg">
                                </div>
                            </div>
                        </div>
                    </div>


<<<<<<< HEAD
                    <!-- ÏùºÏ†ïÏù¥ ÏûàÎäî ÎÇ†Ïßú Î™®Îã¨ -->
                    <div id="eventModal" class="modal">
                        <div class="modal-content">
                            <span class="close event-close">&times;</span>
                            <p id="event-modal-text"></p>
                            <input type="hidden" name="modalText" id="eventModalText">
                            <p><input type="text" placeholder="Ï†úÎ™©" name="title" id="eventTitle" size="100%"></p>
                            <textarea name="content" id="eventContent" placeholder="ÎÇ¥Ïö©"></textarea>
                            <div id="pictureArea"> </div> <!-- Ïù¥ÎØ∏ÏßÄÏπ∏ -->
                            <div id="eventModalBottom">

                                test
                            </div>
                        </div>
=======
            <!-- ÏùºÏ†ïÏù¥ ÏûàÎäî ÎÇ†Ïßú Î™®Îã¨ -->
            <div id="eventModal" class="modal">
                <div class="modal-content">
                    <span class="close event-close">&times;</span>
                    <p id="event-modal-text"></p>
                    <input type="hidden" name="modalText" id="eventModalText">
                    <p><input type="text" placeholder="Ï†úÎ™©" name="title" id="eventTitle" size="100%" readonly></p>
                    <textarea name="content" id="eventContent" placeholder="ÎÇ¥Ïö©" readonly></textarea>
                    <div id="pictureArea"></div> <!-- Ïù¥ÎØ∏ÏßÄÏπ∏ -->
                    <div id="eventModalBottom">
>>>>>>> eaab9086ab9e940ec630d0b9c2bee7afd09e5a53
                    </div>
                    <!-- Î™®Îã¨ ÎÅù -->
                </section>
            </div>
    </form>

<<<<<<< HEAD
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: async function (info, successCallback, failureCallback) {
                    const eventResult = await axios({
                        method: "GET",
                        url: "/diaryJson"
                    });

                    console.log("Ï°∞ÌöåÎêú Îã§Ïù¥Ïñ¥Î¶¨ Îç∞Ïù¥ÌÑ∞:", eventResult.data);

                    const eventData = eventResult.data.diarys;
                    const eventArray = [];

                    eventData.forEach((res) => {
                        eventArray.push({
                            title: res.DIARY_TITLE,
                            start: res.DIARY_DATE,
                            description: res.DIARY_CONTENT
                        });
                    });

                    successCallback(eventArray);
                },
                dateClick: function (info) {
                    var modal = document.getElementById("myModal");
                    var span = document.getElementsByClassName("close")[0];

                    modal.style.display = "block";
                    document.getElementById("modalText").value = info.dateStr;
                    document.getElementById("modal-text").innerText = info.dateStr;
                    document.getElementById("title").value = ""; // Reset title
                    document.getElementById("content").value = ""; // Reset content

                    span.onclick = function () {
                        modal.style.display = "none";
                    }

                    window.onclick = function (event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                    }
                },
                eventClick: function (info) {
                    var modal = document.getElementById("eventModal");
                    var span = document.getElementsByClassName("event-close")[0];

                    modal.style.display = "block";
                    document.getElementById("eventModalText").value = info.event.startStr;
                    document.getElementById("event-modal-text").innerText = info.event.startStr;
                    document.getElementById("eventTitle").value = info.event.title;
                    document.getElementById("eventContent").value = info.event.extendedProps.description;

                    span.onclick = function () {
                        modal.style.display = "none";
                    }

                    window.onclick = function (event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                    }
                }
            });

            calendar.render();
        });
    </script>

    <script src="../assets/js/diary.js"></script>
=======
<script>
  document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
          events: async function(info, successCallback, failureCallback){
              const eventResult = await axios({
                  method: "GET",
                  url: "/diaryJson"
              });
  
              console.log("Ï°∞ÌöåÎêú Îã§Ïù¥Ïñ¥Î¶¨ Îç∞Ïù¥ÌÑ∞:", eventResult.data);
  
              const eventData = eventResult.data.diarys;
              const eventArray = [];
  
              eventData.forEach((res) => {
                  eventArray.push({
                      title: res.DIARY_TITLE,
                      start: res.DIARY_DATE,
                      description: res.DIARY_CONTENT,
                      imageUrl: res.DIARY_IMG // Ïù¥ÎØ∏ÏßÄ URL Ï∂îÍ∞Ä
                  });
              });
  
              successCallback(eventArray);
          },
          dateClick: function(info) {
              var modal = document.getElementById("myModal");
              var span = document.getElementsByClassName("close")[0];
  
              modal.style.display = "block";
              document.getElementById("modalText").value = info.dateStr;
              document.getElementById("modal-text").innerText = info.dateStr;
              document.getElementById("title").value = ""; // Reset title
              document.getElementById("content").value = ""; // Reset content
  
              span.onclick = function() {
                  modal.style.display = "none";
              }
  
              window.onclick = function(event) {
                  if (event.target == modal) {
                      modal.style.display = "none";
                  }
              }
          },
          eventClick: function(info) {
              var modal = document.getElementById("eventModal");
              var span = document.getElementsByClassName("event-close")[0];
  
              modal.style.display = "block";
              document.getElementById("eventModalText").value = info.event.startStr;
              <!-- document.getElementById("event-modal-text").innerText = info.event.startStr; -->
              document.getElementById("eventTitle").value = info.event.title;
              document.getElementById("eventContent").value = info.event.extendedProps.description;
  
              // Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°úÎ•º Ï∂îÍ∞Ä
              var pictureArea = document.getElementById("pictureArea");
              pictureArea.innerHTML = ""; // Í∏∞Ï°¥ Ïù¥ÎØ∏ÏßÄÎ•º Ï¥àÍ∏∞Ìôî
  
              if (info.event.extendedProps.imageUrl) {
                  var img = document.createElement("img");
                  img.src = info.event.extendedProps.imageUrl;
                  img.alt = "Event Image";
                  img.style.width = "100%";
                  pictureArea.appendChild(img);
              }
  
              span.onclick = function() {
                  modal.style.display = "none";
              }
  
              window.onclick = function(event) {
                  if (event.target == modal) {
                      modal.style.display = "none";
                  }
              }
          },
          displayEventTime: false // Ïù¥Î≤§Ìä∏ ÏãúÍ∞Ñ ÌëúÏãú ÎπÑÌôúÏÑ±Ìôî
      });
  
      calendar.render();
  });
  </script>
  
  

<script src="../assets/js/diary.js"></script>
>>>>>>> eaab9086ab9e940ec630d0b9c2bee7afd09e5a53
</body>

</html>